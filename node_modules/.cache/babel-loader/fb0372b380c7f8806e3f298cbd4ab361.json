{"ast":null,"code":"import _defineProperty from\"F:\\\\RBK\\\\dairyprod-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"F:\\\\RBK\\\\dairyprod-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\RBK\\\\dairyprod-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"F:\\\\RBK\\\\dairyprod-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"F:\\\\RBK\\\\dairyprod-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\RBK\\\\dairyprod-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{withRouter}from'react-router-dom';import{Form,Button}from'react-bootstrap';import axios from'axios';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={username:'',password:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var _this$state=this.state,username=_this$state.username,password=_this$state.password;//localStorage.setItem('userId',JSON.stringify(this.state));\nconsole.log('username, password',username,password);axios.get(\"http://localhost:4000/login/\".concat(this.state.username,\"/\").concat(this.state.password),{user:{username:username,password:password}}).then(function(response){console.log('heeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',response);if(response){// this.props.setUserAuth(true);\n// TODO: SAVE USER ID TO LOCAL STORAGE \nlocalStorage.setItem('user_id',response.data[0]._id);// const user_id = localStorage.getItem('userID');\n_this2.props.history.push('/Cart');}else{alert('LogIn faild . . Make sure the information is correct');}}).catch(function(error){console.log('login error',error);_this2.props.setUserAuth(false);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"inner-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h1\"},/*#__PURE__*/React.createElement(\"h1\",{id:\"header\"},/*#__PURE__*/React.createElement(\"span\",{id:\"spanw\"},\" Dairy product Milk and cheese \"),\" \",/*#__PURE__*/React.createElement(\"span\",{id:\"finde\"},\"APP\"),' ')),/*#__PURE__*/React.createElement(\"h1\",{className:\"header\"},\"Account Login\"),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit.bind(this)},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"User Name\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"username\",placeholder:\"username\",value:this.state.username,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(Button,{className:\"safa\",type:\"submit\"},\"Log In\"))));}}]);return Login;}(React.Component);export default withRouter(Login);","map":{"version":3,"sources":["F:/RBK/dairyprod-app/src/components/Login/Login.js"],"names":["React","withRouter","Form","Button","axios","Login","props","state","username","password","handleChange","bind","event","setState","target","name","value","preventDefault","console","log","get","user","then","response","localStorage","setItem","data","_id","history","push","alert","catch","error","setUserAuth","handleSubmit","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Form,Button } from 'react-bootstrap';\r\n\r\nimport axios from 'axios';\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  }\r\n  \r\n  handleSubmit(event) {\r\n   event.preventDefault();\r\n    const { username, password } = this.state;\r\n    //localStorage.setItem('userId',JSON.stringify(this.state));\r\n   console.log('username, password',username, password)\r\n    axios\r\n      .get(\r\n        `http://localhost:4000/login/${this.state.username}/${this.state.password}`,\r\n        {\r\n          user: {\r\n            username: username,\r\n            password: password,\r\n          },\r\n        },\r\n      )\r\n      .then((response) => {\r\n        console.log('heeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',response);\r\n        if (response) {\r\n          // this.props.setUserAuth(true);\r\n          // TODO: SAVE USER ID TO LOCAL STORAGE \r\n           localStorage.setItem('user_id',response.data[0]._id );\r\n          // const user_id = localStorage.getItem('userID');\r\n          this.props.history.push('/Cart');\r\n        } else {\r\n          alert('LogIn faild . . Make sure the information is correct');\r\n\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log('login error', error);\r\n        this.props.setUserAuth(false);\r\n      });\r\n      \r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n      <div className='inner-container'>\r\n        <div className='h1'>\r\n          <h1 id='header'>\r\n            <span id='spanw'> Dairy product Milk and cheese </span> <span id='finde'>APP</span>{' '}\r\n          </h1>\r\n        </div>\r\n        <h1 className='header'>Account Login</h1>\r\n        <Form  onSubmit={this.handleSubmit.bind(this)} >\r\n  <Form.Group controlId=\"formGroupEmail\">\r\n    <Form.Label>User Name</Form.Label>\r\n    <Form.Control name='username'\r\n            placeholder='username'\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n            required />\r\n  </Form.Group>\r\n  <Form.Group controlId=\"formGroupPassword\">\r\n    <Form.Label>Password</Form.Label>\r\n    <Form.Control   type='password'\r\n            name='password'\r\n            placeholder='Password'\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n            required />\r\n  </Form.Group>\r\n  <Button className=\"safa\" type=\"submit\">\r\n    Log In\r\n  </Button>\r\n</Form>\r\n{/* \r\n        <form onSubmit={this.handleSubmit.bind(this)}>\r\n          <h1 className='header'>Account Login</h1>\r\n          <hr className='hr' />\r\n          <input\r\n            className='login-input'\r\n            name='username'\r\n            placeholder='username'\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <br />\r\n          <input\r\n            className='login-input'\r\n            type='password'\r\n            name='password'\r\n            placeholder='Password'\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <br />\r\n          <button> Login</button>\r\n          <br />\r\n          Dont have an account ?{' '}\r\n          <Link to=\"/Registeration\" className='link'>\r\n            {' '}\r\n            register now\r\n          </Link>{' '}\r\n        </form> */}\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}